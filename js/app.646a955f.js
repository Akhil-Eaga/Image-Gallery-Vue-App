(function(){var n={1125:function(n,t,e){"use strict";var o=e(9242),a=e(7139),i=e(5410),r=e.n(i),u=e(6265),c=e.n(u);const s="5d0b6e2c04b4bee",l="https://api.imgur.com";var g={login:function(){const n={client_id:s,response_type:"token"};window.location=`${l}/oauth2/authorize?${r().stringify(n)}`},fetchImages:function(n){return c().get(`${l}/3/account/me/images`,{headers:{Authorization:`Bearer ${n}`}})},uploadImages:function(n,t){const e=Array.from(t).map((t=>{const e=new FormData;return e.append("image",t),c().post(`${l}/3/upload`,e,{headers:{Authorization:`Client-ID ${s}`},Authorization:{Token:`${n}`}})}));return Promise.all(e)}},m=e(678),f=e(3396);function d(n,t,e,o,a,i){return(0,f.wg)(),(0,f.iD)("div",null," Please wait.... ")}var p={name:"AuthHandler",methods:{...(0,a.nv)(["finalizeLogin"])},created:function(){this.finalizeLogin(window.location.hash)}},h=e(89);const v=(0,h.Z)(p,[["render",d]]);var w=v;const k=n=>((0,f.dD)("data-v-75abc06c"),n=n(),(0,f.Cn)(),n),I={class:"dropper"},y=k((()=>(0,f._)("span",null,"Drag files here!",-1)));function _(n,t,e,o,a,i){return(0,f.wg)(),(0,f.iD)("div",I,[(0,f._)("input",{type:"file",onChange:t[0]||(t[0]=t=>n.uploadImages(t.target.files)),multiple:"",accept:"image/*"},null,32),y])}var b={name:"UploadForm",methods:{...(0,a.nv)(["uploadImages"])}};const D=(0,h.Z)(b,[["render",_],["__scopeId","data-v-75abc06c"]]);var L=D;const O={key:0,class:"images-container"},A=["src"],z={key:1};function C(n,t,e,o,a,i){return(0,f.wg)(),(0,f.iD)("div",null,[n.isLoggedIn?((0,f.wg)(),(0,f.iD)("div",O,[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)(n.allImages,((n,t)=>((0,f.wg)(),(0,f.iD)("img",{width:"500px",key:t,src:n.link,alt:"imgur image"},null,8,A)))),128))])):((0,f.wg)(),(0,f.iD)("h2",z," Login to get started! "))])}var S={name:"ImageList",methods:{...(0,a.nv)(["fetchImages"])},computed:{...(0,a.Se)(["allImages","isLoggedIn"])},created:function(){this.fetchImages()}};const T=(0,h.Z)(S,[["render",C]]);var $=T;const j=[{path:"/oauth2/callback",component:w},{path:"/upload",component:L},{path:"/",component:$}],x=(0,m.p7)({history:(0,m.PO)(),routes:j});var H=x;const P={state:function(){return{token:window.localStorage.getItem("imgur_token")}},getters:{isLoggedIn:function(n){return!!n.token}},mutations:{setToken:function(n,t){n.token=t}},actions:{login:function(){g.login()},finalizeLogin:function({commit:n},t){const e=r().parse(t.replace("#",""));n("setToken",e.access_token),window.localStorage.setItem("imgur_token",e.access_token),H.push("/")},logout:function({commit:n}){n("setToken",null),window.localStorage.removeItem("imgur_token")}}};var U=P;const W={state:function(){return{images:[]}},getters:{allImages:function(n){return n.images}},mutations:{setImages:function(n,t){n.images=t}},actions:{fetchImages:async function({rootState:n,commit:t}){const e=n.auth.token,o=await g.fetchImages(e);t("setImages",o.data.data)},uploadImages:async function({rootState:n},t){const e=n.auth.token;await g.uploadImages(e,t),H.push("/")}}};var Z=W;const F=(0,a.MT)({modules:{auth:U,images:Z}});var G=F;const M={class:"ui container"};function B(n,t,e,o,a,i){const r=(0,f.up)("AppHeader"),u=(0,f.up)("router-view");return(0,f.wg)(),(0,f.iD)("div",null,[(0,f.Wm)(r),(0,f._)("div",M,[(0,f.Wm)(u)])])}const E={class:"ui secondary pointing menu"},K=(0,f.Uk)("Image Gallery"),Y={key:0,class:"right menu"},q=(0,f.Uk)("Gallery"),J=(0,f.Uk)("Upload"),N={key:1,class:"right menu"};function Q(n,t,e,o,a,i){const r=(0,f.up)("router-link");return(0,f.wg)(),(0,f.iD)("div",E,[(0,f.Wm)(r,{class:"item active",to:"/"},{default:(0,f.w5)((()=>[K])),_:1}),n.isLoggedIn?((0,f.wg)(),(0,f.iD)("div",Y,[(0,f.Wm)(r,{class:"ui item",to:"/"},{default:(0,f.w5)((()=>[q])),_:1}),(0,f.Wm)(r,{class:"ui item",to:"/upload"},{default:(0,f.w5)((()=>[J])),_:1}),(0,f._)("a",{href:"#",class:"ui item",onClick:t[0]||(t[0]=(...t)=>n.logout&&n.logout(...t))},"Logout")])):((0,f.wg)(),(0,f.iD)("div",N,[(0,f._)("a",{href:"#",class:"ui item",onClick:t[1]||(t[1]=(...t)=>n.login&&n.login(...t))},"Login")]))])}var R={name:"AppHeader",methods:{...(0,a.nv)(["login","logout"])},computed:{...(0,a.Se)(["isLoggedIn"])}};const V=(0,h.Z)(R,[["render",Q]]);var X=V,nn={name:"App",components:{AppHeader:X}};const tn=(0,h.Z)(nn,[["render",B],["__scopeId","data-v-ecff306e"]]);var en=tn;const on=(0,o.ri)(en);on.use(G),on.use(H),on.mount("#app")},4654:function(){}},t={};function e(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return n[o](i,i.exports,e),i.exports}e.m=n,function(){var n=[];e.O=function(t,o,a,i){if(!o){var r=1/0;for(l=0;l<n.length;l++){o=n[l][0],a=n[l][1],i=n[l][2];for(var u=!0,c=0;c<o.length;c++)(!1&i||r>=i)&&Object.keys(e.O).every((function(n){return e.O[n](o[c])}))?o.splice(c--,1):(u=!1,i<r&&(r=i));if(u){n.splice(l--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var l=n.length;l>0&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[o,a,i]}}(),function(){e.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return e.d(t,{a:t}),t}}(),function(){e.d=function(n,t){for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)}}(),function(){var n={143:0};e.O.j=function(t){return 0===n[t]};var t=function(t,o){var a,i,r=o[0],u=o[1],c=o[2],s=0;if(r.some((function(t){return 0!==n[t]}))){for(a in u)e.o(u,a)&&(e.m[a]=u[a]);if(c)var l=c(e)}for(t&&t(o);s<r.length;s++)i=r[s],e.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return e.O(l)},o=self["webpackChunkimage_gallery"]=self["webpackChunkimage_gallery"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(1125)}));o=e.O(o)})();
//# sourceMappingURL=app.646a955f.js.map